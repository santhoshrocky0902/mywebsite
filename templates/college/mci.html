{% extends "college/base.html" %} {% block content %}
<style>
    @charset "UTF-8";
    .accordion {
        max-width: 600px;
        margin: 30px 80px 30px;
    }
    
    .accordion__item {
        margin-bottom: 5px;
    }
    
    .accordion__title {
        font-family: 'Eurostile', sans-serif;
        padding: 20px;
        border-radius: 4px;
        cursor: pointer;
        display: flex;
        justify-content: space-between;
        font-size: 20px;
    }
    
    .accordion__title::after {
        font-family: "Font Awesome 5 Free";
        content: "ÔÅ∏";
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 900;
        text-rendering: auto;
        -webkit-font-smoothing: antialiased;
        width: 1em;
        height: 1em;
        transition: transform 0.3s ease-in;
    }
    
    .is-open .accordion__title::after {
        transform: rotate(180deg);
    }
    
    .accordion__body {
        border-radius: 5px;
        height: 0;
        overflow: hidden;
        transition: height 0.3s ease-in-out;
    }
    
    .accordion__content {
        border-radius: 4px;
    }
    
    .accordion__content ol li {
        list-style-type: lower-alpha;
        margin-left: 75px;
        margin-bottom: 5px;
        font-family: 'Eurostile', sans-serif;
    }
    
    .mci {
        padding: 0px 50px;
    }
    
    .mci h3 {
        margin-top: 35px;
    }
    
    .accordion__title ol {
        list-style-type: decimal-leading-zero;
    }
    
    .mci h3 {
        font-size: 30px;
    }
    
    @media (max-width:768px) {
        .mci {
            padding: 0px 20px;
        }
        .mci h3 {
            font-size: 23px;
        }
        .accordion__title {
            padding: 0;
            font-size: 17px;
        }
    }
    
    @media (max-width:426px) {
        .mci {
            padding: 0px 20px;
        }
        .mci h3 {
            font-size: 17px;
        }
        .accordion__title {
            padding: 0;
            font-size: 14px;
        }
        .accordion {
            margin: 22px 55px 30px;
        }
    }
    
    @media (max-width:376px) {
        .mci {
            padding: 0px 10px;
        }
    }
    
    @media (max-width:321px) {
        .mci {
            padding: 0px 10px;
        }
        .mci h3 {
            font-size: 16px;
        }
        .accordion__title {
            padding: 0;
            font-size: 12px;
        }
    }
</style>

<section class="mci">
    <h3 class="clearfix">Information under Clause B.1.11 of Minimum Standard Requirement Regulations, 1999. Updated on March 2019</h3>

    <div class="accordion">
        {% for mci in mci %}
        <div class="accordion__item">
            <div class="accordion__title">
                <ol>
                    {% if mci.href %}
                    <li><a target="_blank" href="{{mci.href}}">{{mci.title}}</a></li>

                    {% elif mci.document_pdf %}
                    <li><a target="_blank" href="{{mci.document_pdf.url|default_if_none:'#'}}">{{mci.title}}</a></li>
                    {% else %}

                    <li><a href="#">{{mci.title}}</a></li>

                    {% endif %}
                </ol>
            </div>
            {% if mci.mci_subcatagory_set.all %}

            <div class="accordion__body">
                <div class="accordion__content">
                    <ol>
                        {% for sub in mci.mci_subcatagory_set.all %} {% if sub.href %}
                        <li><a target="_blank" href="{{sub.href}}">{{sub.title}}</a></li>

                        {% elif sub.document_pdf %}
                        <li><a target="_blank" href="{{sub.document_pdf.url|default_if_none:'#'}}">{{sub.title}}</a></li>
                        {% else %}

                        <li><a href="#">{{sub.title}}</a></li>

                        {% endif %} {% endfor %}
                    </ol>
                </div>
            </div>
            {% endif %}
        </div>

        {% endfor %}

    </div>
</section>

<script>
    const accordion = document.querySelector('.accordion');
    const items = accordion.querySelectorAll('.accordion__item');

    items.forEach((item) => {
        const title = item.querySelector('.accordion__title');

        title.addEventListener('click', (e) => {
            const opened_item = accordion.querySelector('.is-open');

            // Toggle current item
            toggle_item(item);

            // Close earlier opened item if exists
            if (opened_item && opened_item !== item) {
                toggle_item(opened_item);
            }


        });
    });

    const toggle_item = (item) => {
        const body = item.querySelector('.accordion__body');
        const content = item.querySelector('.accordion__content');

        if (item.classList.contains('is-open')) {
            body.removeAttribute('style');
            item.classList.remove('is-open');
        } else {
            body.style.height = body.scrollHeight + 'px';
            item.classList.add('is-open');
        }
    }
</script>
{% endblock %}